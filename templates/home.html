<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to Flask Social</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="container">
        <h1>Welcome to Flask Social</h1>

	{% if current_user.is_authenticated %}
		<h2>Welcome, {{ current_user.username }}</h2>

		<!-- Upload Image Form -->
		<div class="upload-box">
			<h3>Upload an Image</h3>
			<form action="{{ url_for('upload') }}" method="POST" enctype="multipart/form-data">
				<input type="file" name="file" required>
				<button type="submit">Upload</button>
			</form>
		</div>

                <!-- Image Gallery -->
                <div class="image-gallery">
                    {% if images %}
                        {% for image in images %}
                            <div class="image-card">
                                <img src="{{ image }}" alt="User upload" width="300">
                            </div>
                        {% endfor %}
                    {% else %}
                        <p>No images uploaded yet.</p>
                    {% endif %}
                </div>

		<!-- Logout button -->
		<div class="logout-box">
			<a href="{{ url_for('logout') }}">
				<button type="button">Logout</button>
			</a>
		</div>
	{% else %}
		<p>You are currently logged out. Please log in to continue.</p>
		<a href="{{ url_for('login') }}">
			<button type="button">Login</button>
		</a>
	{% endif %}

    </div>
</body>
</html>
